<!DOCTYPE html>
<html lang='en'>

<head>
    <meta charset='utf-8' />
    <title>Canada food environment map TEST</title>
    <meta name='viewport' content='width=device-width, initial-scale=1' />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.css' rel='stylesheet' />
    <link href='css/styles.css' rel='stylesheet' />
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Can-FED</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="about.html">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="guide.html">Guide</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">Map</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html">Contact</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Load the `mapbox-gl-geocoder` plugin for search bar. -->
    <script
        src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.7.2/mapbox-gl-geocoder.min.js"></script>
    <link rel="stylesheet"
        href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.7.2/mapbox-gl-geocoder.css"
        type="text/css">
    <!-- Promise polyfill script required to use Mapbox GL Geocoder in IE 11 -->
    <script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.min.js"></script>



    <div id="map"></div>

    <div class='map-overlay-search'>
        <label>Search for location</label>
        <div id="geocoder" class="geocoder"></div>
        <fieldset>
            <label>Or zoom to major city</label>
            <button id="tobutton">Toronto</button>
            <button id="vanbutton">Vancouver</button>
            <button id="monbutton">Montreal</button>
            <button id="calbutton">Calgary</button>
        </fieldset>
        
    </div>

    <div class='map-overlay-data'>
        <form>
            <fieldset>
                <label>Show food environment data</label>
                <select id="boundary" name="boundary" style="width:95%;">
                    <option value="" disabled selected>Select boundary...</option>
                    <option value="provterr">Province/territory</option>
                    <option value="cma">Census metropolitan area (CMA)</option>
                    <option value="da">Dissemination area (DA)</option>
                </select>
            </fieldset>
            <fieldset>
                <select id="foodoutlet" name="foodoutlet" style="width:95%;">
                    <option value="" disabled selected>Select food retail outlet...</option>
                    <option value="supmarket">Supermarket</option>
                    <option value="fastfood">Fast food outlet</option>
                    <option value="cafe">Cafe</option>
                </select>
            </fieldset>
            <button type="button" id="submitButton">Submit</button>
            <p id="message"></p>
        </form> 
    </div>

    <!--<button type="button" class="btn btn-primary btn-sm" id="returnbutton">Return to full extent</button>-->
    <button id="returnbutton" class="btn-control" type="submit" title="Full extent">
        <img src="Images/globe.png" width="20" height="20" alt="Full extent"/>
    </button>


<!-- create one legend for each boundary-->
<div id='provterr-legend' class='legend' style='display: none;'>
    <h4>No. retail outlets</h4>
    <div><span style='background-color: #f8ddaf'></span>500</div>
    <div><span style='background-color: #f2af78'></span>50 000</div>
    <div><span style='background-color: #ec9a5f'></span>100 000</div>
    <div><span style='background-color: #e58143'></span>150 000</div>
    <div><span style='background-color: #d25304'></span>200 000</div>
</div>

<div id='cma-legend' class='legend' style='display: none;'>
    <h4>No. retail outlets</h4>
    <div><span style='background-color: #cef8b9'></span>200</div>
    <div><span style='background-color: #8cd06d'></span>20 000</div>
    <div><span style='background-color: #70b950'></span>40 000</div>
    <div><span style='background-color: #58a437'></span>60 000</div>
    <div><span style='background-color: #408f1e'></span>80 000</div>
</div>

<div id='da-legend' class='legend' style='display: none;'>
    <h4>No. retail outlets</h4>
    <div><span style='background-color: #9ae2ef'></span>0</div>
    <div><span style='background-color: #65a5b8'></span>10</div>
    <div><span style='background-color: #316e87'></span>20</div>
</div>

<script src="js/map.js"></script>

</body>